{"ast":null,"code":"var _jsxFileName = \"C:\\\\Training\\\\React-and-ASP.NET-Core\\\\Module 6 - Forms\\\\react-movies\\\\src\\\\forms\\\\ImageField.tsx\",\n  _s = $RefreshSig$();\nimport { useFormikContext } from \"formik\";\nimport { useState } from \"react\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ImageField(props) {\n  _s();\n  const [imageBase64, setImageBase64] = useState('');\n  const [imageURL, setImageURL] = useState(props.imageURL);\n  const {\n    values\n  } = useFormikContext();\n  const divStyle = {\n    marginTop: '10px'\n  };\n  const imgStyle = {\n    width: '450px'\n  };\n  const handleOnChange = eventsArgs => {\n    if (eventsArgs.currentTarget.files) {\n      const file = eventsArgs.currentTarget.files[0];\n      if (file) {\n        toBase64(file).then(base64Representation => setImageBase64(base64Representation)).catch(error => console.log(error));\n        values[props.field] = file;\n        setImageURL('');\n      } else {\n        setImageBase64('');\n      }\n    }\n  };\n  const toBase64 = file => {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = () => resolve(reader.result);\n      reader.onerror = error => reject(error);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: props.displayName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          accept: \".jpg,.jpeg,.png\",\n          onChange: handleOnChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), imageBase64 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: divStyle,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            style: imgStyle,\n            src: imageBase64,\n            alt: \"selected\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 21\n      }, this) : null, imageURL ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: divStyle,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            style: imgStyle,\n            src: imageURL,\n            alt: \"selected\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n_s(ImageField, \"7FcFiTzZRzUbYAr3kMsIFSAhIgY=\", false, function () {\n  return [useFormikContext];\n});\n_c = ImageField;\nImageField.defaultProps = {\n  imageURL: ''\n};\nvar _c;\n$RefreshReg$(_c, \"ImageField\");","map":{"version":3,"names":["useFormikContext","useState","jsxDEV","_jsxDEV","Fragment","_Fragment","ImageField","props","_s","imageBase64","setImageBase64","imageURL","setImageURL","values","divStyle","marginTop","imgStyle","width","handleOnChange","eventsArgs","currentTarget","files","file","toBase64","then","base64Representation","catch","error","console","log","field","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","children","className","displayName","fileName","_jsxFileName","lineNumber","columnNumber","type","accept","onChange","style","src","alt","_c","defaultProps","$RefreshReg$"],"sources":["C:/Training/React-and-ASP.NET-Core/Module 6 - Forms/react-movies/src/forms/ImageField.tsx"],"sourcesContent":["import { useFormikContext } from \"formik\";\r\nimport { ChangeEvent, useState } from \"react\";\r\n\r\nexport default function ImageField(props: imageFieldProps) {\r\n\r\n    const [imageBase64, setImageBase64] = useState('');\r\n    const [imageURL, setImageURL] = useState(props.imageURL);\r\n    const {values} = useFormikContext<any>();\r\n\r\n    const divStyle = {marginTop: '10px'};\r\n    const imgStyle = {width: '450px'};\r\n\r\n    const handleOnChange = (eventsArgs: ChangeEvent<HTMLInputElement>) => {\r\n        if (eventsArgs.currentTarget.files) {\r\n            const file = eventsArgs.currentTarget.files[0];\r\n\r\n            if (file) {\r\n                toBase64(file)\r\n                    .then((base64Representation : string) => setImageBase64(base64Representation))\r\n                    .catch(error => console.log(error));\r\n                values[props.field] = file;\r\n\r\n                setImageURL('');\r\n            } \r\n            else {\r\n                setImageBase64('');\r\n            }\r\n        }\r\n    }\r\n\r\n    const toBase64 = (file: File) => {\r\n        return new Promise<string>((resolve, reject) => {\r\n            const reader = new FileReader();\r\n            reader.readAsDataURL(file);\r\n            reader.onload = () => resolve(reader.result as string);\r\n            reader.onerror = (error) => reject(error);\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"mb-3\">\r\n                <label>{props.displayName}</label>\r\n                <div>\r\n                    <input type=\"file\" accept=\".jpg,.jpeg,.png\" onChange={handleOnChange} />\r\n                </div>\r\n                {imageBase64 ?\r\n                    <div>\r\n                        <div style={divStyle}>\r\n                            <img style={imgStyle} src={imageBase64} alt=\"selected\" />\r\n                        </div>\r\n                    </div> : null}\r\n                {imageURL ?\r\n                    <div>\r\n                        <div style={divStyle}>\r\n                            <img style={imgStyle} src={imageURL} alt=\"selected\" />\r\n                        </div>\r\n                    </div> : null}\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\ninterface imageFieldProps {\r\n    displayName: string;\r\n    imageURL: string;\r\n    field: string;\r\n}\r\n\r\nImageField.defaultProps = {\r\n    imageURL: ''\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}